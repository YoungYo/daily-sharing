# 26th

我昨天发了那个合成大西瓜的朋友圈之后，很多人问我是怎么玩到 1w 多分的，有什么技巧吗？还有人问是不是 P 的图。要说游戏技巧，其实真没有，当然也不是 P 的图（虽然 PS 一个截图也不难）。那我到底是怎么玩到 1w 多分的？

首先，这个游戏并不是一个微信小程序，而是一个 H5 页面，这种 H5 页面是可以在浏览器中打开的。由于这个小游戏的逻辑很简单，所以靠着程序员的直觉，我判断它的代码肯定也不复杂，所以我就打开 Chrome 的调试模式看了一下它的 JS 源码。

然后我发现在一个叫 project.js 的文件中实现了这个游戏的大部分逻辑，尤其是 onBeginContact 和 createLevelUpFruit 这两个方法，前者是监听是否有两个水果相接触，一旦有两个水果接触，它会判断这两个水果是不是同一种水果，如果是，就调用 createLevelUpFruit 这个方法去生成他们的上一级水果，同时把两个接触到的水果销毁，然后再修改分数，修改分数调用的是下面这两行代码

```javascript
a.default.score += this.fruitNumber + 1
u.default.Instance.SetScoreTween(a.default.score)
```

当打开调试模式时，Chrome 控制台就拿到了代码的控制权，在控制台可以操作 JS 变量，简而言之，当你拿到代码的控制权后，就在控制台执行下面这三行代码就可以了：

```javascript
i.default.Instance.createLevelUpFruit(10, n.node.position)
a.default.score = 99999999
u.default.Instance.SetScoreTween(a.default.score)
```

第一行是合成水果，createLevelUpFruit 需要两个参数，第一个参数是水果的级别，10 是最高级别，也就是我们梦寐以求的大西瓜，第二个参数是位置；第二行和第三行是修改分数，看到了没，别说 1w 分了，就是 1 亿分都行，随便改，你可以把「99999999」改成任何你想要的分数。

第一行可以单独执行，可以执行多次，合成多个大西瓜（最多只能合成 3 个，多了就超过红线了），也可以把 10 改成其他 2-9 之间的任何数字，合成其他水果。第二行第三行务必要一起执行。

所以我并不是「玩」到 1 w 多分的，是通过修改 JS 代码作弊了。要非得说是玩的话，那也是玩的代码，不是玩的游戏本身。

不得不说，玩这游戏还真挺费时间，我用了 2 个小时才定位到 project.js 这个文件并看懂它的逻辑。唉\~不说了，继续搬砖了。

PS：图二中那个红字不是乱码，那是我的最高分数记录，我把分数改成 1 亿多，它一行显示不下，就挤成两行了。。。

![image-20210126135009459](https://tva1.sinaimg.cn/large/008eGmZEly1gnbbgr2ytjj30kq1400vy.jpg)

![image-20210126135022664](https://tva1.sinaimg.cn/large/008eGmZEly1gnbbgx3ls9j30kq1320u0.jpg)
